

<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>LLVM 18.0.0git Release Notes &#8212; LLVM 18.0.0git documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/llvm-theme.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="How to start LLVM Social in your town" href="MeetupGuidelines.html" />
    <link rel="prev" title="How To Add Your Build Configuration To LLVM Buildbot Infrastructure" href="HowToAddABuilder.html" />
<style type="text/css">
  table.right { float: right; margin-left: 20px; }
  table.right td { border: 1px solid #ccc; }
</style>

  </head><body>
<div class="logo">
  <a href="index.html">
    <img src="_static/logo.png"
         alt="LLVM Logo" width="250" height="88"/></a>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="MeetupGuidelines.html" title="How to start LLVM Social in your town"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="HowToAddABuilder.html" title="How To Add Your Build Configuration To LLVM Buildbot Infrastructure"
             accesskey="P">previous</a> |</li>
  <li><a href="https://llvm.org/">LLVM Home</a>&nbsp;|&nbsp;</li>
  <li><a href="index.html">Documentation</a>&raquo;</li>

          <li class="nav-item nav-item-1"><a href="GettingInvolved.html" accesskey="U">Getting Involved</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">LLVM 18.0.0git Release Notes</a></li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">

<h3>Documentation</h3>

<ul class="want-points">
    <li><a href="https://llvm.org/docs/GettingStartedTutorials.html">Getting Started/Tutorials</a></li>
    <li><a href="https://llvm.org/docs/UserGuides.html">User Guides</a></li>
    <li><a href="https://llvm.org/docs/Reference.html">Reference</a></li>
</ul>

<h3>Getting Involved</h3>

<ul class="want-points">
    <li><a href="https://llvm.org/docs/Contributing.html">Contributing to LLVM</a></li>
    <li><a href="https://llvm.org/docs/HowToSubmitABug.html">Submitting Bug Reports</a></li>
    <li><a href="https://llvm.org/docs/GettingInvolved.html#mailing-lists">Mailing Lists</a></li>
    <li><a href="https://llvm.org/docs/GettingInvolved.html#irc">IRC</a></li>
    <li><a href="https://llvm.org/docs/GettingInvolved.html#meetups-and-social-events">Meetups and Social Events</a></li>
</ul>

<h3>Additional Links</h3>

<ul class="want-points">
    <li><a href="https://llvm.org/docs/FAQ.html">FAQ</a></li>
    <li><a href="https://llvm.org/docs/Lexicon.html">Glossary</a></li>
    <li><a href="https://llvm.org/pubs">Publications</a></li>
    <li><a href="https://github.com/llvm/llvm-project/">Github Repository</a></li>
</ul>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/ReleaseNotes.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="llvm-release-release-notes">
<h1>LLVM 18.0.0git Release Notes<a class="headerlink" href="#llvm-release-release-notes" title="Permalink to this heading">¶</a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#introduction" id="id2">Introduction</a></p></li>
<li><p><a class="reference internal" href="#non-comprehensive-list-of-changes-in-this-release" id="id3">Non-comprehensive list of changes in this release</a></p>
<ul>
<li><p><a class="reference internal" href="#update-on-required-toolchains-to-build-llvm" id="id4">Update on required toolchains to build LLVM</a></p></li>
<li><p><a class="reference internal" href="#changes-to-the-llvm-ir" id="id5">Changes to the LLVM IR</a></p></li>
<li><p><a class="reference internal" href="#changes-to-llvm-infrastructure" id="id6">Changes to LLVM infrastructure</a></p></li>
<li><p><a class="reference internal" href="#changes-to-building-llvm" id="id7">Changes to building LLVM</a></p></li>
<li><p><a class="reference internal" href="#changes-to-tablegen" id="id8">Changes to TableGen</a></p></li>
<li><p><a class="reference internal" href="#changes-to-interprocedural-optimizations" id="id9">Changes to Interprocedural Optimizations</a></p></li>
<li><p><a class="reference internal" href="#changes-to-the-aarch64-backend" id="id10">Changes to the AArch64 Backend</a></p></li>
<li><p><a class="reference internal" href="#changes-to-the-amdgpu-backend" id="id11">Changes to the AMDGPU Backend</a></p></li>
<li><p><a class="reference internal" href="#changes-to-the-arm-backend" id="id12">Changes to the ARM Backend</a></p></li>
<li><p><a class="reference internal" href="#changes-to-the-avr-backend" id="id13">Changes to the AVR Backend</a></p></li>
<li><p><a class="reference internal" href="#changes-to-the-directx-backend" id="id14">Changes to the DirectX Backend</a></p></li>
<li><p><a class="reference internal" href="#changes-to-the-hexagon-backend" id="id15">Changes to the Hexagon Backend</a></p></li>
<li><p><a class="reference internal" href="#changes-to-the-loongarch-backend" id="id16">Changes to the LoongArch Backend</a></p></li>
<li><p><a class="reference internal" href="#changes-to-the-mips-backend" id="id17">Changes to the MIPS Backend</a></p></li>
<li><p><a class="reference internal" href="#changes-to-the-powerpc-backend" id="id18">Changes to the PowerPC Backend</a></p></li>
<li><p><a class="reference internal" href="#changes-to-the-risc-v-backend" id="id19">Changes to the RISC-V Backend</a></p></li>
<li><p><a class="reference internal" href="#changes-to-the-webassembly-backend" id="id20">Changes to the WebAssembly Backend</a></p></li>
<li><p><a class="reference internal" href="#changes-to-the-windows-target" id="id21">Changes to the Windows Target</a></p></li>
<li><p><a class="reference internal" href="#changes-to-the-x86-backend" id="id22">Changes to the X86 Backend</a></p></li>
<li><p><a class="reference internal" href="#changes-to-the-ocaml-bindings" id="id23">Changes to the OCaml bindings</a></p></li>
<li><p><a class="reference internal" href="#changes-to-the-python-bindings" id="id24">Changes to the Python bindings</a></p></li>
<li><p><a class="reference internal" href="#changes-to-the-c-api" id="id25">Changes to the C API</a></p></li>
<li><p><a class="reference internal" href="#changes-to-the-codegen-infrastructure" id="id26">Changes to the CodeGen infrastructure</a></p></li>
<li><p><a class="reference internal" href="#changes-to-the-metadata-info" id="id27">Changes to the Metadata Info</a></p></li>
<li><p><a class="reference internal" href="#changes-to-the-debug-info" id="id28">Changes to the Debug Info</a></p></li>
<li><p><a class="reference internal" href="#changes-to-the-llvm-tools" id="id29">Changes to the LLVM tools</a></p></li>
<li><p><a class="reference internal" href="#changes-to-lldb" id="id30">Changes to LLDB</a></p></li>
<li><p><a class="reference internal" href="#changes-to-sanitizers" id="id31">Changes to Sanitizers</a></p></li>
<li><p><a class="reference internal" href="#other-changes" id="id32">Other Changes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#external-open-source-projects-using-llvm-15" id="id33">External Open Source Projects Using LLVM 15</a></p></li>
<li><p><a class="reference internal" href="#additional-information" id="id34">Additional Information</a></p></li>
</ul>
</nav>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>These are in-progress notes for the upcoming LLVM 18 release.
Release notes for previous releases can be found on
<a class="reference external" href="https://releases.llvm.org/download.html">the Download Page</a>.</p>
</div>
<section id="introduction">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Introduction</a><a class="headerlink" href="#introduction" title="Permalink to this heading">¶</a></h2>
<p>This document contains the release notes for the LLVM Compiler Infrastructure,
release 18.0.0git.  Here we describe the status of LLVM, including major improvements
from the previous release, improvements in various subprojects of LLVM, and
some of the current users of the code.  All LLVM releases may be downloaded
from the <a class="reference external" href="https://llvm.org/releases/">LLVM releases web site</a>.</p>
<p>For more information about LLVM, including information about the latest
release, please check out the <a class="reference external" href="https://llvm.org/">main LLVM web site</a>.  If you
have questions or comments, the <a class="reference external" href="https://discourse.llvm.org">Discourse forums</a> is a good place to ask
them.</p>
<p>Note that if you are reading this file from a Git checkout or the main
LLVM web page, this document applies to the <em>next</em> release, not the current
one.  To see the release notes for a specific release, please see the <a class="reference external" href="https://llvm.org/releases/">releases
page</a>.</p>
</section>
<section id="non-comprehensive-list-of-changes-in-this-release">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Non-comprehensive list of changes in this release</a><a class="headerlink" href="#non-comprehensive-list-of-changes-in-this-release" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>…</p></li>
</ul>
<section id="update-on-required-toolchains-to-build-llvm">
<h3><a class="toc-backref" href="#id4" role="doc-backlink">Update on required toolchains to build LLVM</a><a class="headerlink" href="#update-on-required-toolchains-to-build-llvm" title="Permalink to this heading">¶</a></h3>
</section>
<section id="changes-to-the-llvm-ir">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Changes to the LLVM IR</a><a class="headerlink" href="#changes-to-the-llvm-ir" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>The <cite>llvm.stacksave</cite> and <cite>llvm.stackrestore</cite> intrinsics now use
an overloaded pointer type to support non-0 address spaces.</p></li>
<li><p>The constant expression variants of the following instructions have been
removed:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">and</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">or</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lshr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ashr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">zext</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sext</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fptrunc</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fpext</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fptoui</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fptosi</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">uitofp</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sitofp</span></code></p></li>
</ul>
</li>
<li><p>Added <cite>llvm.exp10</cite> intrinsic.</p></li>
</ul>
</section>
<section id="changes-to-llvm-infrastructure">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">Changes to LLVM infrastructure</a><a class="headerlink" href="#changes-to-llvm-infrastructure" title="Permalink to this heading">¶</a></h3>
</section>
<section id="changes-to-building-llvm">
<h3><a class="toc-backref" href="#id7" role="doc-backlink">Changes to building LLVM</a><a class="headerlink" href="#changes-to-building-llvm" title="Permalink to this heading">¶</a></h3>
</section>
<section id="changes-to-tablegen">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">Changes to TableGen</a><a class="headerlink" href="#changes-to-tablegen" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Added constructs for debugging TableGen files:</p>
<ul>
<li><dl class="simple">
<dt><cite>dump</cite> keyword to dump messages to standard error, see</dt><dd><p><a class="reference external" href="https://github.com/llvm/llvm-project/pull/68793">https://github.com/llvm/llvm-project/pull/68793</a>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><cite>!repr</cite> bang operator to inspect the content of values, see</dt><dd><p><a class="reference external" href="https://github.com/llvm/llvm-project/pull/68716">https://github.com/llvm/llvm-project/pull/68716</a>.</p>
</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<section id="changes-to-interprocedural-optimizations">
<h3><a class="toc-backref" href="#id9" role="doc-backlink">Changes to Interprocedural Optimizations</a><a class="headerlink" href="#changes-to-interprocedural-optimizations" title="Permalink to this heading">¶</a></h3>
</section>
<section id="changes-to-the-aarch64-backend">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">Changes to the AArch64 Backend</a><a class="headerlink" href="#changes-to-the-aarch64-backend" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Added support for Cortex-A520, Cortex-A720 and Cortex-X4 CPUs.</p></li>
<li><p>Neoverse-N2 was incorrectly marked as an Armv8.5a core. This has been
changed to an Armv9.0a core. However, crypto options are not enabled
by default for Armv9 cores, so <cite>-mcpu=neoverse-n2+crypto</cite> is now required
to enable crypto for this core. As far as the compiler is concerned,
Armv9.0a has the same features enabled as Armv8.5a, with the exception
of crypto.</p></li>
</ul>
</section>
<section id="changes-to-the-amdgpu-backend">
<h3><a class="toc-backref" href="#id11" role="doc-backlink">Changes to the AMDGPU Backend</a><a class="headerlink" href="#changes-to-the-amdgpu-backend" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p><cite>llvm.sqrt.f32</cite> is now lowered correctly. Use <cite>llvm.amdgcn.sqrt.f32</cite>
for raw instruction access.</p></li>
<li><p>Implemented <cite>llvm.stacksave</cite> and <cite>llvm.stackrestore</cite> intrinsics.</p></li>
<li><p>Implemented <a class="reference internal" href="LangRef.html#int-get-rounding"><span class="std std-ref">llvm.get.rounding</span></a></p></li>
</ul>
</section>
<section id="changes-to-the-arm-backend">
<h3><a class="toc-backref" href="#id12" role="doc-backlink">Changes to the ARM Backend</a><a class="headerlink" href="#changes-to-the-arm-backend" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Added support for Cortex-M52 CPUs.</p></li>
</ul>
</section>
<section id="changes-to-the-avr-backend">
<h3><a class="toc-backref" href="#id13" role="doc-backlink">Changes to the AVR Backend</a><a class="headerlink" href="#changes-to-the-avr-backend" title="Permalink to this heading">¶</a></h3>
</section>
<section id="changes-to-the-directx-backend">
<h3><a class="toc-backref" href="#id14" role="doc-backlink">Changes to the DirectX Backend</a><a class="headerlink" href="#changes-to-the-directx-backend" title="Permalink to this heading">¶</a></h3>
</section>
<section id="changes-to-the-hexagon-backend">
<h3><a class="toc-backref" href="#id15" role="doc-backlink">Changes to the Hexagon Backend</a><a class="headerlink" href="#changes-to-the-hexagon-backend" title="Permalink to this heading">¶</a></h3>
</section>
<section id="changes-to-the-loongarch-backend">
<h3><a class="toc-backref" href="#id16" role="doc-backlink">Changes to the LoongArch Backend</a><a class="headerlink" href="#changes-to-the-loongarch-backend" title="Permalink to this heading">¶</a></h3>
</section>
<section id="changes-to-the-mips-backend">
<h3><a class="toc-backref" href="#id17" role="doc-backlink">Changes to the MIPS Backend</a><a class="headerlink" href="#changes-to-the-mips-backend" title="Permalink to this heading">¶</a></h3>
</section>
<section id="changes-to-the-powerpc-backend">
<h3><a class="toc-backref" href="#id18" role="doc-backlink">Changes to the PowerPC Backend</a><a class="headerlink" href="#changes-to-the-powerpc-backend" title="Permalink to this heading">¶</a></h3>
</section>
<section id="changes-to-the-risc-v-backend">
<h3><a class="toc-backref" href="#id19" role="doc-backlink">Changes to the RISC-V Backend</a><a class="headerlink" href="#changes-to-the-risc-v-backend" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>The Zfa extension version was upgraded to 1.0 and is no longer experimental.</p></li>
<li><p>Zihintntl extension version was upgraded to 1.0 and is no longer experimental.</p></li>
<li><p>Intrinsics were added for Zk*, Zbb, and Zbc. See <a class="reference external" href="https://github.com/riscv-non-isa/riscv-c-api-doc/blob/master/riscv-c-api.md#scalar-bit-manipulation-extension-intrinsics">https://github.com/riscv-non-isa/riscv-c-api-doc/blob/master/riscv-c-api.md#scalar-bit-manipulation-extension-intrinsics</a></p></li>
<li><p>Default ABI with F but without D was changed to ilp32f for RV32 and to lp64f for RV64.</p></li>
<li><p>The Zvbb, Zvbc, Zvkb, Zvkg, Zvkn, Zvknc, Zvkned, Zvkng, Zvknha, Zvknhb, Zvks,
Zvksc, Zvksed, Zvksg, Zvksh, and Zvkt extension version was upgraded to 1.0
and is no longer experimental.  However, the C intrinsics for these extensions
are still experimental.  To use the C intrinsics for these extensions,
<code class="docutils literal notranslate"><span class="pre">-menable-experimental-extensions</span></code> needs to be passed to Clang.</p></li>
</ul>
</section>
<section id="changes-to-the-webassembly-backend">
<h3><a class="toc-backref" href="#id20" role="doc-backlink">Changes to the WebAssembly Backend</a><a class="headerlink" href="#changes-to-the-webassembly-backend" title="Permalink to this heading">¶</a></h3>
</section>
<section id="changes-to-the-windows-target">
<h3><a class="toc-backref" href="#id21" role="doc-backlink">Changes to the Windows Target</a><a class="headerlink" href="#changes-to-the-windows-target" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>The LLVM filesystem class <code class="docutils literal notranslate"><span class="pre">UniqueID</span></code> and function <code class="docutils literal notranslate"><span class="pre">equivalent()</span></code>
no longer determine that distinct different path names for the same
hard linked file actually are equal. This is an intentional tradeoff in a
bug fix, where the bug used to cause distinct files to be considered
equivalent on some file systems. This change fixed the issues
<a class="reference external" href="https://github.com/llvm/llvm-project/issues/61401">https://github.com/llvm/llvm-project/issues/61401</a> and
<a class="reference external" href="https://github.com/llvm/llvm-project/issues/22079">https://github.com/llvm/llvm-project/issues/22079</a>.</p></li>
</ul>
</section>
<section id="changes-to-the-x86-backend">
<h3><a class="toc-backref" href="#id22" role="doc-backlink">Changes to the X86 Backend</a><a class="headerlink" href="#changes-to-the-x86-backend" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">i128</span></code> type now matches GCC and clang’s <code class="docutils literal notranslate"><span class="pre">__int128</span></code> type. This mainly
benefits external projects such as Rust which aim to be binary compatible
with C, but also fixes code generation where LLVM already assumed that the
type matched and called into libgcc helper functions.</p></li>
<li><p>Support ISA of <code class="docutils literal notranslate"><span class="pre">USER_MSR</span></code>.</p></li>
<li><p>Support ISA of <code class="docutils literal notranslate"><span class="pre">AVX10.1-256</span></code> and <code class="docutils literal notranslate"><span class="pre">AVX10.1-512</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-mcpu=pantherlake</span></code> and <code class="docutils literal notranslate"><span class="pre">-mcpu=clearwaterforest</span></code> are now supported.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-mapxf</span></code> is supported.</p></li>
</ul>
</section>
<section id="changes-to-the-ocaml-bindings">
<h3><a class="toc-backref" href="#id23" role="doc-backlink">Changes to the OCaml bindings</a><a class="headerlink" href="#changes-to-the-ocaml-bindings" title="Permalink to this heading">¶</a></h3>
</section>
<section id="changes-to-the-python-bindings">
<h3><a class="toc-backref" href="#id24" role="doc-backlink">Changes to the Python bindings</a><a class="headerlink" href="#changes-to-the-python-bindings" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>The python bindings have been removed.</p></li>
</ul>
</section>
<section id="changes-to-the-c-api">
<h3><a class="toc-backref" href="#id25" role="doc-backlink">Changes to the C API</a><a class="headerlink" href="#changes-to-the-c-api" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Added <code class="docutils literal notranslate"><span class="pre">LLVMGetTailCallKind</span></code> and <code class="docutils literal notranslate"><span class="pre">LLVMSetTailCallKind</span></code> to
allow getting and setting <code class="docutils literal notranslate"><span class="pre">tail</span></code>, <code class="docutils literal notranslate"><span class="pre">musttail</span></code>, and <code class="docutils literal notranslate"><span class="pre">notail</span></code>
attributes on call instructions.</p></li>
<li><p>The following functions for creating constant expressions have been removed,
because the underlying constant expressions are no longer supported. Instead,
an instruction should be created using the <code class="docutils literal notranslate"><span class="pre">LLVMBuildXYZ</span></code> APIs, which will
constant fold the operands if possible and create an instruction otherwise:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">LLVMConstAnd</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LLVMConstOr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LLVMConstLShr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LLVMConstAShr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LLVMConstZExt</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LLVMConstSExt</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LLVMConstZExtOrBitCast</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LLVMConstSExtOrBitCast</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LLVMConstIntCast</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LLVMConstFPTrunc</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LLVMConstFPExt</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LLVMConstFPToUI</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LLVMConstFPToSI</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LLVMConstUIToFP</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LLVMConstSIToFP</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LLVMConstFPCast</span></code></p></li>
</ul>
</li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">LLVMCreateTargetMachineWithOptions</span></code>, along with helper functions for
an opaque option structure, as an alternative to <code class="docutils literal notranslate"><span class="pre">LLVMCreateTargetMachine</span></code>.
The option structure exposes an additional setting (i.e., the target ABI) and
provides default values for unspecified settings.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">LLVMGetNNeg</span></code> and <code class="docutils literal notranslate"><span class="pre">LLVMSetNNeg</span></code> for getting/setting the new nneg flag
on zext instructions, and <code class="docutils literal notranslate"><span class="pre">LLVMGetIsDisjoint</span></code> and <code class="docutils literal notranslate"><span class="pre">LLVMSetIsDisjoint</span></code>
for getting/setting the new disjoint flag on or instructions.</p></li>
<li><p>Added the following functions for manipulating operand bundles, as well as
building <code class="docutils literal notranslate"><span class="pre">call</span></code> and <code class="docutils literal notranslate"><span class="pre">invoke</span></code> instructions that use operand bundles:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">LLVMBuildCallWithOperandBundles</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LLVMBuildInvokeWithOperandBundles</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LLVMCreateOperandBundle</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LLVMDisposeOperandBundle</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LLVMGetNumOperandBundles</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LLVMGetOperandBundleAtIndex</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LLVMGetNumOperandBundleArgs</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LLVMGetOperandBundleArgAtIndex</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">LLVMGetOperandBundleTag</span></code></p></li>
</ul>
</li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">LLVMGetFastMathFlags</span></code> and <code class="docutils literal notranslate"><span class="pre">LLVMSetFastMathFlags</span></code> for getting/setting
the fast-math flags of an instruction, as well as <code class="docutils literal notranslate"><span class="pre">LLVMCanValueUseFastMathFlags</span></code>
for checking if an instruction can use such flags</p></li>
</ul>
</section>
<section id="changes-to-the-codegen-infrastructure">
<h3><a class="toc-backref" href="#id26" role="doc-backlink">Changes to the CodeGen infrastructure</a><a class="headerlink" href="#changes-to-the-codegen-infrastructure" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>A new debug type <code class="docutils literal notranslate"><span class="pre">isel-dump</span></code> is added to show only the SelectionDAG dumps
after each ISel phase (i.e. <code class="docutils literal notranslate"><span class="pre">-debug-only=isel-dump</span></code>). This new debug type
can be filtered by function names using <code class="docutils literal notranslate"><span class="pre">-filter-print-funcs=&lt;function</span> <span class="pre">names&gt;</span></code>,
the same flag used to filter IR dumps after each Pass. Note that the existing
<code class="docutils literal notranslate"><span class="pre">-debug-only=isel</span></code> will take precedence over the new behavior and
print SelectionDAG dumps of every single function regardless of
<code class="docutils literal notranslate"><span class="pre">-filter-print-funcs</span></code>’s values.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">PrologEpilogInserter</span></code> no longer supports register scavenging
during forwards frame index elimination. Targets should use
backwards frame index elimination instead.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">RegScavenger</span></code> no longer supports forwards register
scavenging. Clients should use backwards register scavenging
instead, which is preferred because it does not depend on accurate
kill flags.</p></li>
</ul>
</section>
<section id="changes-to-the-metadata-info">
<h3><a class="toc-backref" href="#id27" role="doc-backlink">Changes to the Metadata Info</a><a class="headerlink" href="#changes-to-the-metadata-info" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Added a new loop metadata <cite>!{!”llvm.loop.align”, i32 64}</cite></p></li>
</ul>
</section>
<section id="changes-to-the-debug-info">
<h3><a class="toc-backref" href="#id28" role="doc-backlink">Changes to the Debug Info</a><a class="headerlink" href="#changes-to-the-debug-info" title="Permalink to this heading">¶</a></h3>
</section>
<section id="changes-to-the-llvm-tools">
<h3><a class="toc-backref" href="#id29" role="doc-backlink">Changes to the LLVM tools</a><a class="headerlink" href="#changes-to-the-llvm-tools" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>llvm-symbolizer now treats invalid input as an address for which source
information is not found.</p></li>
<li><p>llvm-readelf now supports <code class="docutils literal notranslate"><span class="pre">--extra-sym-info</span></code> (<code class="docutils literal notranslate"><span class="pre">-X</span></code>) to display extra
information (section name) when showing symbols.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">llvm-nm</span></code> now supports the <code class="docutils literal notranslate"><span class="pre">--line-numbers</span></code> (<code class="docutils literal notranslate"><span class="pre">-l</span></code>) option to use
debugging information to print symbols’ filenames and line numbers.</p></li>
<li><p>llvm-symbolizer and llvm-addr2line now support addresses specified as symbol names.</p></li>
<li><p>llvm-objcopy now supports <code class="docutils literal notranslate"><span class="pre">--gap-fill</span></code> and <code class="docutils literal notranslate"><span class="pre">--pad-to</span></code> options, for
ELF input and binary output files only.</p></li>
</ul>
</section>
<section id="changes-to-lldb">
<h3><a class="toc-backref" href="#id30" role="doc-backlink">Changes to LLDB</a><a class="headerlink" href="#changes-to-lldb" title="Permalink to this heading">¶</a></h3>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">SBWatchpoint::GetHardwareIndex</span></code> is deprecated and now returns -1
to indicate the index is unavailable.</p></li>
<li><p>Methods in SBHostOS related to threads have had their implementations
removed. These methods will return a value indicating failure.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">SBType::FindDirectNestedType</span></code> function is added. It’s useful
for formatters to quickly find directly nested type when it’s known
where to search for it, avoiding more expensive global search via
<code class="docutils literal notranslate"><span class="pre">SBTarget::FindFirstType</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lldb-vscode</span></code> was renamed to <code class="docutils literal notranslate"><span class="pre">lldb-dap</span></code> and and its installation
instructions have been updated to reflect this. The underlying functionality
remains unchanged.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">mte_ctrl</span></code> register can now be read from AArch64 Linux core files.</p></li>
<li><p>LLDB on AArch64 Linux now supports debugging the Scalable Matrix Extension
(SME) and Scalable Matrix Extension 2 (SME2) for both live processes and core
files. For details refer to the
<a class="reference external" href="https://lldb.llvm.org/use/aarch64-linux.html">AArch64 Linux documentation</a>.</p></li>
<li><p>LLDB now supports symbol and binary acquisition automatically using the
DEBUFINFOD protocol. The standard mechanism of specifying DEBUFINOD servers in
the <code class="docutils literal notranslate"><span class="pre">DEBUGINFOD_URLS</span></code> environment variable is used by default. In addition,
users can specify servers to request symbols from using the LLDB setting
<code class="docutils literal notranslate"><span class="pre">plugin.symbol-locator.debuginfod.server_urls</span></code>, override or adding to the
environment variable.</p></li>
<li><p>When running on AArch64 Linux, <code class="docutils literal notranslate"><span class="pre">lldb-server</span></code> now provides register
field information for the following registers: <code class="docutils literal notranslate"><span class="pre">cpsr</span></code>, <code class="docutils literal notranslate"><span class="pre">fpcr</span></code>,
<code class="docutils literal notranslate"><span class="pre">fpsr</span></code>, <code class="docutils literal notranslate"><span class="pre">svcr</span></code> and <code class="docutils literal notranslate"><span class="pre">mte_ctrl</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">lldb</span><span class="p">)</span> <span class="n">register</span> <span class="n">read</span> <span class="n">cpsr</span>
      <span class="n">cpsr</span> <span class="o">=</span> <span class="mh">0x80001000</span>
           <span class="o">=</span> <span class="p">(</span><span class="n">N</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">Z</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">C</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">V</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">SS</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">IL</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="o">&lt;...&gt;</span>
</pre></div>
</div>
<p>This is only available when <code class="docutils literal notranslate"><span class="pre">lldb</span></code> is built with XML support.
Where possible the CPU’s capabilities are used to decide which
fields are present, however this is not always possible or entirely
accurate. If in doubt, refer to the numerical value.</p>
</li>
</ul>
</section>
<section id="changes-to-sanitizers">
<h3><a class="toc-backref" href="#id31" role="doc-backlink">Changes to Sanitizers</a><a class="headerlink" href="#changes-to-sanitizers" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>HWASan now defaults to detecting use-after-scope bugs.</p></li>
</ul>
</section>
<section id="other-changes">
<h3><a class="toc-backref" href="#id32" role="doc-backlink">Other Changes</a><a class="headerlink" href="#other-changes" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">Flags</span></code> field of <code class="docutils literal notranslate"><span class="pre">llvm::opt::Option</span></code> has been split into <code class="docutils literal notranslate"><span class="pre">Flags</span></code>
and <code class="docutils literal notranslate"><span class="pre">Visibility</span></code> to simplify option sharing between various drivers (such
as <code class="docutils literal notranslate"><span class="pre">clang</span></code>, <code class="docutils literal notranslate"><span class="pre">clang-cl</span></code>, or <code class="docutils literal notranslate"><span class="pre">flang</span></code>) that rely on Clang’s Options.td.
Overloads of <code class="docutils literal notranslate"><span class="pre">llvm::opt::OptTable</span></code> that use <code class="docutils literal notranslate"><span class="pre">FlagsToInclude</span></code> have been
deprecated. There is a script and instructions on how to resolve conflicts -
see <a class="reference external" href="https://reviews.llvm.org/D157150">https://reviews.llvm.org/D157150</a> and <a class="reference external" href="https://reviews.llvm.org/D157151">https://reviews.llvm.org/D157151</a> for
details.</p></li>
<li><p>On Linux, FreeBSD, and NetBSD, setting the environment variable
<code class="docutils literal notranslate"><span class="pre">LLVM_ENABLE_SYMBOLIZER_MARKUP</span></code> causes tools to print stacktraces using
<a class="reference internal" href="SymbolizerMarkupFormat.html"><span class="doc">Symbolizer Markup</span></a>.
This works even if the tools have no embedded symbol information (i.e. are
fully stripped); <a class="reference internal" href="CommandGuide/llvm-symbolizer.html"><span class="doc">llvm-symbolizer</span></a> can
symbolize the markup afterwards using <code class="docutils literal notranslate"><span class="pre">debuginfod</span></code>.</p></li>
</ul>
</section>
</section>
<section id="external-open-source-projects-using-llvm-15">
<h2><a class="toc-backref" href="#id33" role="doc-backlink">External Open Source Projects Using LLVM 15</a><a class="headerlink" href="#external-open-source-projects-using-llvm-15" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p>A project…</p></li>
</ul>
</section>
<section id="additional-information">
<h2><a class="toc-backref" href="#id34" role="doc-backlink">Additional Information</a><a class="headerlink" href="#additional-information" title="Permalink to this heading">¶</a></h2>
<p>A wide variety of additional information is available on the <a class="reference external" href="https://llvm.org/">LLVM web page</a>, in particular in the <a class="reference external" href="https://llvm.org/docs/">documentation</a> section.  The web page also contains versions of the
API documentation which is up-to-date with the Git version of the source
code.  You can access versions of these documents specific to this release by
going into the <code class="docutils literal notranslate"><span class="pre">llvm/docs/</span></code> directory in the LLVM tree.</p>
<p>If you have any questions or comments about LLVM, please feel free to contact
us via the <a class="reference external" href="https://discourse.llvm.org">Discourse forums</a>.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="MeetupGuidelines.html" title="How to start LLVM Social in your town"
             >next</a> |</li>
        <li class="right" >
          <a href="HowToAddABuilder.html" title="How To Add Your Build Configuration To LLVM Buildbot Infrastructure"
             >previous</a> |</li>
  <li><a href="https://llvm.org/">LLVM Home</a>&nbsp;|&nbsp;</li>
  <li><a href="index.html">Documentation</a>&raquo;</li>

          <li class="nav-item nav-item-1"><a href="GettingInvolved.html" >Getting Involved</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">LLVM 18.0.0git Release Notes</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2003-2023, LLVM Project.
      Last updated on 2023-12-20.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    </div>
  </body>
</html>